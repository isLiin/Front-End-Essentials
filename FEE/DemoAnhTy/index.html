<!DOCTYPE html>
<html>
    <head>
        <title>Page Title</title>
        <!--Meta data-->
        <!--IMPORT CSS-->
        <style>
            #error-name {
              color: red;
            }
        </style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.css">
        
    </head>
    <body>
        
        <div class="container" data-click="trigger">
          <div class="row">
            <div class="col">
              <form >
                <div class="mb-3">
                  <label for="firstName" id="lableFirstName" class="form-label" data-lable="firstName">firstName</label>
                  <input class="form-control" id="firstName" placeholder="firstName" data-trigger="firstName" value="">
                  <div class="error-fname"></div>
                </div>
                <div class="mb-3">
                  <label for="lastName" id="labelLastName" class="form-label" >lastName</label>
                  <input class="form-control" id="lastName" placeholder="lastName" data-click="lastName" name="lastname">
                  <div class="error-lname"></div>
                </div>
                <input type="hidden" id="rowIndex" value=""/>
                <button type="button" class="btn-add">add</button>
            </form>
            </div>
            <h1>
              
            </h1>
            <div class="col">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">First</th>
                    <th scope="col">Last</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row" class="index">1</th>
                    <td class="rowFname">Mark</td>
                    <td class="rowLname">Otto</td>
                    <td><button class="btn-delete">Delete</button><button class="btn-edit" >Edit</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
    
    <!--IMPORT CSS/JAVA SCRIPT-->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script>


        $(document).ready(function () {
          $('h1').html('<p>This is title</p>');
          $('[data-click="trigger"]')
          $.ajax({
            type: "GET",// GET, POST, PUT, DELETE, PATCH
            url:  "https://jsonplaceholder.typicode.com/users",
            dataType: "JSON", //HTML, Json, xml
            success:function(data) {
              console.log(data);
              // display data
              //$(".content").html()
            },
            error:  function(xhr)  {
              
            }
          });
          
          $('.btn-add').on('click', function () {
            var firstName = $("#firstName");
            var lastName = $("#lastName");
            if (firstName.val().length == 0) {
              $(".error-fname").html('<span class="abc">this field is required!</span>');
            } else {
              $(".error-fname").html('');
              var html = '<tr>'+
                    '<td class="index">1</td>'+
                    '<td class="rowFname">'+firstName.val()+'</td>'+
                    '<td class="rowLname">'+lastName.val()+'</td>'+
                    '<td><button class="btn-delete" >Delete</button><button class="btn-edit" >Edit</button></td>'+
                  '</tr>';
              $('tBody').append(html);
              // reset
              $("#firstName").val('');
              $("#lastName").val('');
            }
            
          });

          $(document).on('click', '.btn-edit', function(){
            // Get data firstName,LastName from table
            var index = $(this).parents("tr").find(".index").text();
            var fname = $(this).parents("tr").find(".rowFname").text();
            var lname = $(this).parents("tr").find(".rowLname").text();
            // Set data first,last -> input form
            $("#rowIndex").val(index);
            $("#firstName").val(fname);
            $("#lastName").val(lname);
            $(".btn-add").remove();
            $("form").append('<button type="button" class="btn-save">save</button>')

          })
          $(document).on('click','.btn-save', function() {
            // getID khi save
            // find row co ID tu form
            // get value tuw form replace vao row trung ID
          })
          
          // $(document).on('click', '.btn-delete',function() {
          //   $(this).parents("tr").remove();
          // });
          $('.btn-delete').on('click',function() {
            $(this).parents("tr").remove();
          });
          
         

        });
        
    </script>
    </body>
</html>